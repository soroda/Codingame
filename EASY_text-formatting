# https://www.codingame.com/ide/puzzle/text-formatting
import sys
import math

intext = input()
print(intext, file=sys.stderr, flush=True)
i = 0
solution = ""

def isAlphaOrDigit(x):
    #tmp = x.isalpha() or x.isdigit()
    #print('isAlphaOrDigit : ' + str(tmp), file=sys.stderr, flush=True)
    return x.isalpha() or x.isdigit()

def isPonctuation(x):
    #tmp = not isAlphaOrDigit(x) and x != " "
    #print('isPonctuation : ' + str(tmp), file=sys.stderr, flush=True)
    return (not isAlphaOrDigit(x) and x != " ")

while i < len(intext):
    if solution == "" : 
        # si c'est une lettre, En début de phrase = Maj.
        solution += intext[i].upper() if isAlphaOrDigit(intext[i]) else ""
    else:
        # si c'est un espace, le caractere d'avant doit être une lettre/chiffre/ponctuation
        if intext[i] == " " and intext[i-1] != " ": solution += intext[i]
        # si c'est une ponctuation le caractere d'avant est forcément une lettre ou chiffre
        if isPonctuation(intext[i]) and not isPonctuation(intext[i-1]) : solution += intext[i]
        
        if intext[i].isalpha():
            # S'il y'a une ponctuation + espace avant alors Maj. Si non, minuscule.
            if intext[i-1] == " " :
                solution += intext[i].upper() if intext[i-2] == "." else intext[i].lower()
                print('isPonctuation(intext[i-2]) : ' + str(isPonctuation(intext[i-2])), file=sys.stderr, flush=True)
                print('solution : ' + solution, file=sys.stderr, flush=True)
            elif isPonctuation(intext[i-1]) :
                solution += " "
                solution += intext[i].upper() if intext[i] == "." else intext[i].lower()
            else:
                solution += intext[i].lower()
    i+=1

print(solution)
